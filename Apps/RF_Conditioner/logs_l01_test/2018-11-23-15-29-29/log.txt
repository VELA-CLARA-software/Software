2018-11-23 15:29:30.007000 *
*** main_controller creating HWC ***
2018-11-23 15:29:32.177000 *
*** llrf_handler setting all SCAN to passive***
2018-11-23 15:29:32.180000 *
*** llrf_handler start_trace_monitoring()***
2018-11-23 15:29:32.254000 *
*** llrf_handler setup_trace_rolling_average***
2018-11-23 15:29:32.255000 starting rolling average for L01_CAVITY_REVERSE_PHASE (CRPHA)
2018-11-23 15:29:32.256000 STARTED rolling average for L01_CAVITY_REVERSE_PHASE
2018-11-23 15:29:32.257000 starting rolling average for L01_CAVITY_FORWARD_POWER (CFPOW)
2018-11-23 15:29:32.258000 STARTED rolling average for L01_CAVITY_FORWARD_POWER
2018-11-23 15:29:32.258000 Set Infinite End Mask by Power 1, power trace = CAVITY_REVERSE_POWER, phase trace = CAVITY_REVERSE_PHASE, power level 5000.0 FAIL
2018-11-23 15:29:32.260000 start_llrf_control created L01, llrf_handler and got full trace names:
2018-11-23 15:29:32.262000 TRACES TO SAVE: KLYSTRON_FORWARD_PHASE KLYSTRON_REVERSE_PHASE KLYSTRON_FORWARD_POWER KLYSTRON_REVERSE_POWER L01_CAVITY_REVERSE_PHASE L01_CAVITY_FORWARD_PHASE L01_CAVITY_FORWARD_POWER L01_CAVITY_REVERSE_POWER L01_CAVITY_PROBE_POWER L01_CAVITY_PROBE_POWER
2018-11-23 15:29:32.263000 BREAKDOWN_TRACES:L01_CAVITY_REVERSE_PHASE L01_CAVITY_FORWARD_POWER
2018-11-23 15:29:36.301000 start_mod_control created a L01  modulator object
2018-11-23 15:29:38.825000 start_vac_valve_control created CLARA_PH1 object
2018-11-23 15:29:38.827000 start_rf_prot_control did not create a protection control  object
2018-11-23 15:29:38.828000 *
*** controller_base has read config***
2018-11-23 15:29:38.830000 config file = test_L01.config
dumping data to log
VAC_SPIKE_DECAY_TIME:2000, VAC_CHECK_TIME:200, VAC_SHOULD_DROP_AMP:True, OUTSIDE_MASK_COOLDOWN_TIME:3000, VAC_PV:CLA-LRG1-VAC-IMG-01:P, VAC_MAX_AMP_DROP:7.0, VAC_SPIKE_DECAY_LEVEL:1.2, VAC_DECAY_MODE:LEVEL, VAC_MAX_LEVEL:5e-09, VAC_SPIKE_AMP_DROP:5.0, VAC_SPIKE_DELTA:4e-09, VAC_NUM_SAMPLES_TO_AVERAGE:7, 
DC_SPIKE_DECAY_LEVEL:1.2, DC_PV:CLA-S01-DIA-WCM-01:Q, DC_NUM_SAMPLES_TO_AVERAGE:5, DC_SPIKE_AMP_DROP:6.0, OUTSIDE_MASK_COOLDOWN_TIME:3000, DC_SHOULD_DROP_AMP:True, DC_CHECK_TIME:1000, DC_SPIKE_DELTA:10.015, DC_SPIKE_DECAY_TIME:2000, DC_DECAY_MODE:TIMED, 
PULSE_COUNT_BREAKDOWN_LOG_FILENAME:pulse_breakdown_log.txt, OUTSIDE_MASK_FORWARD_FILENAME:outside_forward_log, OUTSIDE_MASK_REVERSE_FILENAME:outside_reverse_log, OUTSIDE_MASK_PROBE_FILENAME:outside_probe_log, LOG_DIRECTORY:D:\VELA\GIT Projects\Software\Apps\RF_Conditioner\logs_l01_test\, AMP_PWR_LOG_TIME:2000, DATA_LOG_TIME:1000, LOG_FILENAME:log.txt, AMP_POWER_LOG_FILENAME:amp_power_log.txt, DATA_LOG_FILENAME:data_log, 
VAC_VALVE:S01-VALV-01, VAC_VALVE_AREA:CLARA_PH1, VAC_VALVE_CHECK_TIME:1000, 
WATER_TEMPERATURE_CHECK_TIME:1000, WATER_TEMPERATURE_PV:CLA-GUN-RF-LRRG-01:RT, 
CAVITY_TEMPERATURE_CHECK_TIME:1000, CAVITY_TEMPERATURE_PV:CLA-GUN-RF-LRRG-01:RT, 
5_MEAN_START:1.0, 6_MEAN_END:1.15, 1_MEAN_START:1.0, DEFAULT_RF_INCREASE_LEVEL:10, BREAKDOWN_RATE_AIM:100, TRACES_TO_SAVE:['KLYSTRON_FORWARD_PHASE', 'KLYSTRON_REVERSE_PHASE', 'KLYSTRON_FORWARD_POWER', 'KLYSTRON_REVERSE_POWER', 'L01_CAVITY_REVERSE_PHASE', 'L01_CAVITY_FORWARD_PHASE', 'L01_CAVITY_FORWARD_POWER', 'L01_CAVITY_REVERSE_POWER', 'L01_CAVITY_PROBE_POWER', 'L01_CAVITY_PROBE_POWER'], NORMAL_POWER_INCREASE:10000, NUMBER_OF_PULSES_IN_BREAKDOWN_HISTORY:1000000, POWER_AIM:0.1, MEAN_TRACES:['KLYSTRON_FORWARD_POWER', 'KLYSTRON_REVERSE_POWER', 'L01_CAVITY_FORWARD_POWER', 'L01_CAVITY_REVERSE_POWER', 'L01_CAVITY_REVERSE_PHASE', 'L01_CAVITY_PROBE_POWER'], 4_MEAN_END:1.15, LOW_POWER_INCREASE_RATE_LIMIT:1000000, DEFAULT_PULSE_COUNT:500, RF_INCREASE_LEVEL:0.001, 6_MEAN_START:1.0, LLRF_CHECK_TIME:50, RF_REPETITION_RATE:10, 4_MEAN_START:1.0, 5_MEAN_END:1.15, 3_MEAN_END:1.15, 2_MEAN_START:1.0, PULSE_LENGTH_AIM:2500.0, RF_INCREASE_RATE:0.33333, 2_MEAN_END:1.15, EXTRA_TRACES_ON_BREAKDOWN:2, RF_STRUCTURE:L01, NUM_BUFFER_TRACES:500, 3_MEAN_START:1.0, PULSE_LENGTH_START:100.0, PULSE_LENGTH_STEP:250.0, 1_MEAN_END:1.15, LOW_POWER_INCREASE:1000, TIME_BETWEEN_RF_INCREASES:10, KLY_PWR_FOR_ACTIVE_PULSE:500.0, 
CRPHA_CHECK_STREAK:10, KFPOW_MASK_TYPE:PERCENT, CFPOW_MASK_LEVEL:35, PHASE_MASK_BY_POWER_POWER_TRACE_1:CAVITY_REVERSE_POWER, BREAKDOWN_TRACES:['L01_CAVITY_REVERSE_PHASE', 'L01_CAVITY_FORWARD_POWER'], CRPHA_MASK_TYPE:PERCENT, KFPOW_MASK_FLOOR:5000, CFPOW_AMP_DROP_VALUE:4, PHASE_MASK_BY_POWER_LEVEL_1:5000.0, CFPOW_MASK_WINDOW_START:300, KFPOW_MASK_ABS_MIN:500, CFPOW_MASK_WINDOW_END:301, OUTSIDE_MASK_COOLDOWN_TIME:3000, PHASE_MASK_BY_POWER_PHASE_TRACE_1:CAVITY_REVERSE_PHASE, OUTSIDE_MASK_CHECK_TIME:100, KFPOW_MASK_SET_TYPE:INDEX, CFPOW_MASK_TYPE:PERCENT, CRPHA_MASK_START:63, CRPHA_MASK_END:86, KFPOW_MASK_END:86, CRPHA_NUM_AVERAGE_TRACES:5, CRPHA_MASK_LEVEL:35, CRPHA_DROP_AMP:True, CFPOW_MASK_FLOOR:5000, CRPHA_MASK_SET_TYPE:INDEX, CFPOW_DROP_AMP:True, CFPOW_NUM_AVERAGE_TRACES:5, CFPOW_CHECK_STREAK:10, CRPHA_MASK_FLOOR:5000, CRPHA_MASK_WINDOW_END:301, KFPOW_MASK_WINDOW_END:301, CRPHA_AMP_DROP_VALUE:3, KFPOW_AUTO_SET:False, CRPHA_MASK_WINDOW_START:300, CFPOW_MASK_SET_TYPE:INDEX, KFPOW_CHECK_STREAK:10, KFPOW_AMP_DROP_VALUE:4, CRPHA_AUTO_SET:False, CFPOW_AUTO_SET:False, KFPOW_NUM_AVERAGE_TRACES:5, KFPOW_MASK_LEVEL:35, CFPOW_MASK_START:63, CFPOW_MASK_END:86, KFPOW_MASK_WINDOW_START:300, KFPOW_DROP_AMP:True, KFPOW_MASK_START:63, CFPOW_MASK_ABS_MIN:500, CRPHA_MASK_ABS_MIN:500, 
MOD_CHECK_TIME:1000, 
RF_PROT_CHECK_TIME:1000, RF_STRUCTURE:L01, 
GUI_UPDATE_TIME:1000, 
SOL_PV:CLA-GUN-MAG-SOL-02:READI, SOL_CHECK_TIME:1000, 
2018-11-23 15:29:38.836000 *
*** rf_condition_data pulse_count_breakdown_log ***
2018-11-23 15:29:38.837000 log_pulse_count 22764
required_pulses 500
breakdown_count 0
log_amp_set 653
current_ramp_index 29
pulse length = 0.702
next_sp_decrease 649
2018-11-23 15:29:38.838000 *
*** Last million pulses***
2018-11-23 15:29:38.840000 Million pulses agao  = -977236
2018-11-23 15:29:38.867000 Not monitoring RF-PROTECTION rfprot_monitor failed
2018-11-23 15:29:38.869000 Monitoring VAC-VALVE
2018-11-23 15:29:38.870000 Monitoring MODULATOR
2018-11-23 15:29:39.900000 data_monitoring Connected to PV = CLA-GUN-RF-LRRG-01:RT with ID = d0 acquiring data
2018-11-23 15:29:39.902000 Monitoring CAVITY TEMPERATURE
2018-11-23 15:29:40.950000 data_monitoring Connected to PV = CLA-GUN-RF-LRRG-01:RT with ID = d1 acquiring data
2018-11-23 15:29:40.952000 Monitoring WATER TEMP
2018-11-23 15:29:41.999000 data_monitoring Connected to PV = CLA-GUN-MAG-SOL-02:READI with ID = d2 acquiring data
2018-11-23 15:29:42.001000 Monitoring SOLENOID READI
2018-11-23 15:29:43.050000 data_monitoring Connected to PV = CLA-LRG1-VAC-IMG-01:P with ID = d3 acquiring data
2018-11-23 15:29:43.052000 vac_spike_monitor will drop amp on spike detection
2018-11-23 15:29:43.054000 vac_spike_monitor STARTED running
2018-11-23 15:29:43.056000 vac_spike_monitor vac_spike_status UNKNOWN
2018-11-23 15:29:43.057000 vac_spike_monitor vac_spike_status GOOD
2018-11-23 15:29:43.059000 Monitoring VACUUM
2018-11-23 15:29:44.100000 data_monitoring Connected to PV = CLA-S01-DIA-WCM-01:Q with ID = d4 acquiring data
2018-11-23 15:29:44.101000 dc_spike_monitor will drop amp on spike detection
2018-11-23 15:29:44.103000 dc_spike_monitor STARTED running
2018-11-23 15:29:44.104000 dc_spike_monitor DC_spike_status UNKNOWN
2018-11-23 15:29:44.106000 dc_spike_monitor DC_spike_status GOOD
2018-11-23 15:29:44.107000 Monitoring DC
2018-11-23 15:29:44.108000 llrf_simple_param_monitor adding KLYSTRON_FORWARD_POWER to mean trace list
2018-11-23 15:29:44.109000 llrf_simple_param_monitor adding KLYSTRON_REVERSE_POWER to mean trace list
2018-11-23 15:29:44.111000 llrf_simple_param_monitor adding L01_CAVITY_FORWARD_POWER to mean trace list
2018-11-23 15:29:44.113000 llrf_simple_param_monitor adding L01_CAVITY_REVERSE_POWER to mean trace list
2018-11-23 15:29:44.114000 llrf_simple_param_monitor adding L01_CAVITY_REVERSE_PHASE to mean trace list
2018-11-23 15:29:44.116000 llrf_simple_param_monitor adding L01_CAVITY_PROBE_POWER to mean trace list
2018-11-23 15:29:44.118000 Monitoring llrf
2018-11-23 15:29:44.120000 Monitoring outside_masks
2018-11-23 15:29:44.161000 gui_conditioning has disabled ramping RF
2018-11-23 15:29:44.249000 *
*** main_controller Loading amp_set vs Kly_fwd_pow dictionary***
2018-11-23 15:29:44.250000 Data: 51432033136.9060081198797510.372
2018-11-23 15:29:44.260000 Data: 400.00.0
2018-11-23 15:29:44.308000 Data: 64548250156.9126528428114954.362
2018-11-23 15:29:44.309000 Data: 64846150728.3108157409621749.768
2018-11-23 15:29:44.310000 Data: 52142334134.0423623256576854.062
2018-11-23 15:29:44.310000 Data: 65340351553.5984418366227471.89
2018-11-23 15:29:44.311000 Data: 52879635437.6954756568480644.404
2018-11-23 15:29:44.312000 Data: 65710052328.386058787612409.1054
2018-11-23 15:29:44.313000 Data: 53450336063.4099447419255358.776
2018-11-23 15:29:44.313000 Data: 54040536625.2161022269437875.793
2018-11-23 15:29:44.314000 Data: 54730937497.0162809197370246.837
2018-11-23 15:29:44.318000 Data: 54959737886.2597613381214660.402
2018-11-23 15:29:44.318000 Data: 55640738878.9611638277130981.558
2018-11-23 15:29:44.319000 Data: 55759938980.5320949430089918.961
2018-11-23 15:29:44.320000 Data: 69034144941.03785821.20002403537e+11
2018-11-23 15:29:44.321000 Data: 56330740502.9734456222780358.315
2018-11-23 15:29:44.322000 Data: 64948650606.0646934489675160.581
2018-11-23 15:29:44.323000 Data: 69649257591.3925596491761180.03
2018-11-23 15:29:44.324000 Data: 56940741790.4269788296011106.045
2018-11-23 15:29:44.325000 Data: 57330742034.1509616223801298.561
2018-11-23 15:29:44.325000 Data: 57640642181.5272688299576023.311
2018-11-23 15:29:44.326000 Data: 70121359693.728202365718004.551
2018-11-23 15:29:44.327000 Data: 58230643595.1849103261293252.576
2018-11-23 15:29:44.328000 Data: 59041044528.6254806366222712.027
2018-11-23 15:29:44.329000 Data: 59549744895.6007393424555581.796
2018-11-23 15:29:44.330000 Data: 60039545587.7110793294129246.164
2018-11-23 15:29:44.330000 Data: 60949746585.0437071433757465.632
2018-11-23 15:29:44.331000 Data: 61839447072.5750052330600772.901
2018-11-23 15:29:44.332000 Data: 49539530509.6069379214889707.757
2018-11-23 15:29:44.332000 Data: 49659730914.4915682316871631.179
2018-11-23 15:29:44.333000 Data: 62650047761.5018445442234493.847
2018-11-23 15:29:44.334000 Data: 50441531796.2078722273530467.544
2018-11-23 15:29:44.335000 Data: 50556532023.5457704356525066.341
2018-11-23 15:29:44.335000 Data: 50631431832.9746738166088032.742
2018-11-23 15:29:44.336000 Data: 63839750386.0892394381865110.377
2018-11-23 15:29:44.537000 *
*** llrf_handler set_mean_pwr_position***
2018-11-23 15:29:44.538000 rf pulse end time = 0.702351179101, index = 68
pulse_latency     = 0
.getPulseLength() = 0.702351179101
2018-11-23 15:29:44.538000 KLYSTRON_FORWARD_POWER found in config file
2018-11-23 15:29:44.539000 KLYSTRON_FORWARD_POWER mean monitoring started
2018-11-23 15:29:44.540000 trace_mean_start/end (us) = 1.0/1.15
meantime = 0.15
2018-11-23 15:29:44.540000 KLYSTRON_REVERSE_POWER found in config file
2018-11-23 15:29:44.541000 KLYSTRON_REVERSE_POWER mean monitoring started
2018-11-23 15:29:44.542000 trace_mean_start/end (us) = 1.0/1.15
meantime = 0.15
2018-11-23 15:29:44.543000 L01_CAVITY_FORWARD_POWER found in config file
2018-11-23 15:29:44.543000 L01_CAVITY_FORWARD_POWER mean monitoring started
2018-11-23 15:29:44.544000 trace_mean_start/end (us) = 1.0/1.15
meantime = 0.15
2018-11-23 15:29:44.544000 L01_CAVITY_REVERSE_POWER found in config file
2018-11-23 15:29:44.545000 L01_CAVITY_REVERSE_POWER mean monitoring started
2018-11-23 15:29:44.546000 trace_mean_start/end (us) = 1.0/1.15
meantime = 0.15
2018-11-23 15:29:44.546000 L01_CAVITY_REVERSE_PHASE found in config file
2018-11-23 15:29:44.547000 L01_CAVITY_REVERSE_PHASE mean monitoring started
2018-11-23 15:29:44.548000 trace_mean_start/end (us) = 1.0/1.15
meantime = 0.15
2018-11-23 15:29:44.549000 L01_CAVITY_PROBE_POWER found in config file
2018-11-23 15:29:44.550000 L01_CAVITY_PROBE_POWER mean monitoring started
2018-11-23 15:29:44.551000 trace_mean_start/end (us) = 1.0/1.15
meantime = 0.15
2018-11-23 15:29:44.552000 set_mask_dict # + shortname
2018-11-23 15:29:44.554000 L01_CAVITY_REVERSE_PHASE, streak = 10, drop = True, drop_val= 3, update func = <bound method llrf_handler.update_mask of <controllers.llrf_handler.llrf_handler object at 0x0CCFA530>>
2018-11-23 15:29:44.556000 setNumContinuousOutsideMaskCount = True
2018-11-23 15:29:44.557000 L01_CAVITY_REVERSE_PHASE, setShouldCheckMask = True
2018-11-23 15:29:44.558000 L01_CAVITY_REVERSE_PHASE, setDropAmpOnOutsideMaskEvent = True
2018-11-23 15:29:44.559000 L01_CAVITY_REVERSE_PHASE, set time_percent_mask
2018-11-23 15:29:44.560000 set_mask_dict # + shortname
2018-11-23 15:29:44.560000 L01_CAVITY_FORWARD_POWER, streak = 10, drop = True, drop_val= 4, update func = <bound method llrf_handler.update_mask of <controllers.llrf_handler.llrf_handler object at 0x0CCFA530>>
2018-11-23 15:29:44.561000 setNumContinuousOutsideMaskCount = True
2018-11-23 15:29:44.562000 L01_CAVITY_FORWARD_POWER, setShouldCheckMask = True
2018-11-23 15:29:44.562000 L01_CAVITY_FORWARD_POWER, setDropAmpOnOutsideMaskEvent = True
2018-11-23 15:29:44.563000 L01_CAVITY_FORWARD_POWER, set time_percent_mask
2018-11-23 15:29:44.570000 *
*** main_controller The RF Conditioning is Preparing to Entering Main_Loop !***
2018-11-23 15:29:45.582000 set_amp = 653, took 0.0124421680674 time,  averages NOT reset, mask_set = False
2018-11-23 15:29:45.584000 Adding to pulse_breakdown_log: 22768 0 653 29 702
2018-11-23 15:29:46.587000 set_global_check_mask setGlobalCheckMask True
2018-11-23 15:30:04.988000 gui_conditioning has enabled ramping RF
2018-11-23 15:30:22.604000 Adding to pulse_breakdown_log: 23146 0 653 29 702
